<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>My First Post | Is Configuration Manager Dead</title>
<meta name=keywords content>
<meta name=description content="Asking the Right Question – With PowerShell PowerShell has a couple of different ways to query an API. However before we can even get started with querying the API we need to build our bearer token which will authenticate us to ASK questions. Fortunately this is pretty well documented on the Microsoft Website.
$tenantId = '' ### Paste your tenant ID here $appId = '' ### Paste your Application ID here $appSecret = '' ### Paste your Application secret here #NOTE: Build the auth response token to the Windows Security Center API (Basically establishing a logged in session) $resourceAppIdUri = 'https://api.">
<meta name=author content>
<link rel=canonical href=http://example.org/posts/my-first-post/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.b9ff4cc257e914dab489bd18086151800e18f91456a5174bf28489210227a659.css integrity="sha256-uf9MwlfpFNq0ib0YCGFRgA4Y+RRWpRdL8oSJIQInplk=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://example.org/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://example.org/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://example.org/favicon-32x32.png>
<link rel=apple-touch-icon href=http://example.org/apple-touch-icon.png>
<link rel=mask-icon href=http://example.org/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.0">
<meta property="og:title" content="My First Post">
<meta property="og:description" content="Asking the Right Question – With PowerShell PowerShell has a couple of different ways to query an API. However before we can even get started with querying the API we need to build our bearer token which will authenticate us to ASK questions. Fortunately this is pretty well documented on the Microsoft Website.
$tenantId = '' ### Paste your tenant ID here $appId = '' ### Paste your Application ID here $appSecret = '' ### Paste your Application secret here #NOTE: Build the auth response token to the Windows Security Center API (Basically establishing a logged in session) $resourceAppIdUri = 'https://api.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://example.org/posts/my-first-post/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-08-26T22:33:12-04:00">
<meta property="article:modified_time" content="2021-08-26T22:33:12-04:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="My First Post">
<meta name=twitter:description content="Asking the Right Question – With PowerShell PowerShell has a couple of different ways to query an API. However before we can even get started with querying the API we need to build our bearer token which will authenticate us to ASK questions. Fortunately this is pretty well documented on the Microsoft Website.
$tenantId = '' ### Paste your tenant ID here $appId = '' ### Paste your Application ID here $appSecret = '' ### Paste your Application secret here #NOTE: Build the auth response token to the Windows Security Center API (Basically establishing a logged in session) $resourceAppIdUri = 'https://api.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://example.org/posts/"},{"@type":"ListItem","position":2,"name":"My First Post","item":"http://example.org/posts/my-first-post/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My First Post","name":"My First Post","description":"Asking the Right Question – With PowerShell PowerShell has a couple of different ways to query an API. However before we can even get started with querying the API we need to build our bearer token which will authenticate us to ASK questions. Fortunately this is pretty well documented on the Microsoft Website.\n$tenantId = \u0026#39;\u0026#39; ### Paste your tenant ID here $appId = \u0026#39;\u0026#39; ### Paste your Application ID here $appSecret = \u0026#39;\u0026#39; ### Paste your Application secret here #NOTE: Build the auth response token to the Windows Security Center API (Basically establishing a logged in session) $resourceAppIdUri = \u0026#39;https://api.","keywords":[],"articleBody":"Asking the Right Question – With PowerShell PowerShell has a couple of different ways to query an API. However before we can even get started with querying the API we need to build our bearer token which will authenticate us to ASK questions. Fortunately this is pretty well documented on the Microsoft Website.\n$tenantId = '' ### Paste your tenant ID here $appId = '' ### Paste your Application ID here $appSecret = '' ### Paste your Application secret here #NOTE: Build the auth response token to the Windows Security Center API (Basically establishing a logged in session) $resourceAppIdUri = 'https://api.securitycenter.windows.com' $oAuthUri = \"https://login.windows.net/$TenantId/oauth2/token\" $authBody = [Ordered] @{ resource = \"$resourceAppIdUri\" client_id = \"$appId\" client_secret = \"$appSecret\" grant_type = 'client_credentials' } $authResponse = Invoke-RestMethod -Method Post -Uri $oAuthUri -Body $authBody -ErrorAction Stop #NOTE: This returns your access token, and below we pull out the token that will be used as the authorization token going forward.  $token = $authResponse.access_token ","wordCount":"158","inLanguage":"en","datePublished":"2021-08-26T22:33:12-04:00","dateModified":"2021-08-26T22:33:12-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.org/posts/my-first-post/"},"publisher":{"@type":"Organization","name":"Is Configuration Manager Dead","logo":{"@type":"ImageObject","url":"http://example.org/favicon.ico"}}}</script>
</head>
<body class=dark id=top>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://example.org/ accesskey=h title="Is Configuration Manager Dead (Alt + H)">Is Configuration Manager Dead</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
My First Post
</h1>
<div class=post-meta>August 26, 2021
</div>
</header>
<div class=post-content><h1 id=asking-the-right-question--with-powershell>Asking the Right Question – With PowerShell<a hidden class=anchor aria-hidden=true href=#asking-the-right-question--with-powershell>#</a></h1>
<p>PowerShell has a couple of different ways to query an API. However before we can even get started with querying the API we need to build our bearer token which will authenticate us to ASK questions. Fortunately this is pretty well documented on the Microsoft Website.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>$tenantId = <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#75715e>### Paste your tenant ID here</span>
$appId = <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#75715e>### Paste your Application ID here</span>
$appSecret = <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#75715e>### Paste your Application secret here</span>
    
<span style=color:#75715e>#NOTE: Build the auth response token to the Windows Security Center API (Basically establishing a logged in session)</span>
$resourceAppIdUri = <span style=color:#e6db74>&#39;https://api.securitycenter.windows.com&#39;</span>
$oAuthUri = <span style=color:#e6db74>&#34;https://login.windows.net/$TenantId/oauth2/token&#34;</span>
$authBody = <span style=color:#66d9ef>[Ordered]</span> @{
     resource = <span style=color:#e6db74>&#34;$resourceAppIdUri&#34;</span>
     client_id = <span style=color:#e6db74>&#34;$appId&#34;</span>
     client_secret = <span style=color:#e6db74>&#34;$appSecret&#34;</span>
     grant_type = <span style=color:#e6db74>&#39;client_credentials&#39;</span>
}
$authResponse = Invoke-RestMethod -Method Post -Uri $oAuthUri -Body $authBody -ErrorAction Stop
<span style=color:#75715e>#NOTE: This returns your access token, and below we pull out the token that will be used as the authorization token going forward. </span>
$token = $authResponse.access_token
</code></pre></div>
</div>
<footer class=post-footer>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=http://example.org/>Is Configuration Manager Dead</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
</body>
</html>